<!DOCTYPE html>
<html lang="ko" layout:decorate="~{fragments/layout}"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>주문내역</title>
    <link rel="stylesheet" th:href="@{/css/orderHistory.css}">
    <script defer th:src="@{/js/orderHistory.js}"></script>
</head>
<body>
<th:block layout:fragment="content">
    <div class="orderHistory">
        <h1>주문내역조회</h1>

        <div class="search_bar">
            <div aria-label="Date range" class="btn_group" role="group">
                <button class="btn btn-outline-secondary" type="button" onclick="setDateRange('today')">오늘</button>
                <button class="btn btn-outline-secondary" type="button" onclick="setDateRange('week')">1주일</button>
                <button class="btn btn-outline-secondary" type="button" onclick="setDateRange('month')">1개월</button>
                <button class="btn btn-outline-secondary" type="button" onclick="setDateRange('three_months')">3개월</button>
                <button class="btn btn-outline-secondary" type="button" onclick="setDateRange('six_months')">6개월</button>
            </div>
            <input id="startDate" class="form-control" placeholder="달력" type="date">
            <span>~</span>
            <input id="endDate" class="form-control" placeholder="달력" type="date">
            <button class="btn btn-primary" onclick="search()">조회</button>
        </div>

        <table class="table table-hover">
            <thead>
            <tr>
                <th>주문일자<br>[주문번호]</th>
                <th>이미지</th>
                <th>상품정보</th>
                <th>수량</th>
                <th>상품구매금액</th>
                <th>주문처리상태</th>
                <th>리뷰쓰기</th>
            </tr>
            </thead>
            <tbody>
            <th:block th:each="order : ${orders}">
                <tr th:each="item : ${order.Items}">
                    <td><span th:text="${order.getOrderTime()}">0</span></td>
                    <td><img alt="상품이미지" class="" th:src="${item.getImgUrl()}" width="50"></td>
                    <td>
                        <p><span class="" th:text="${item.getProductName()}">상품이름</span></p>
                        <p><span class="" th:text="${item.getModelName()}">상품이름</span></p>
                    </td>
                    <td><span class="" th:text="${item.getCount()}">0</span></td>
                    <td><span class="" th:text="${#numbers.formatDecimal(item.getPrice() * item.count, 0, 'COMMA', 0, 'COMMA')}">0</span>원</td>
                    <td><span class="">주문완료</span></td>
                    <td>
                        <button class="btn btn-primary" type="button">리뷰쓰기</button>
                    </td>
                <tr>
            </th:block>
            </tbody>
        </table>

        <!--페이징 처리 -->
        <div class="pagination_container">
            <button class="pagination_btn">&lt;</button>
            <button class="pagination_btn active">1</button>
<!--            <button class="pagination_btn">2</button>-->
<!--            <button class="pagination_btn">3</button>-->
<!--            <button class="pagination_btn">4</button>-->
<!--            <button class="pagination_btn">5</button>-->
            <button class="pagination_btn">&gt;</button>
        </div>
    </div>
</th:block>
</body>
</html>
