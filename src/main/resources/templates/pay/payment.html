<!DOCTYPE html>
<html lang="ko" layout:decorate="~{fragments/layout}" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>Document</title>
    <link rel="stylesheet" th:href="@{css/payment.css}">
</head>
<body>
<div layout:fragment="content">
    <div class="container payment-container my-4">
        <h1 class="text-center my-4">ORDER</h1>
        <table class="table">
            <thead>
            <tr>
                <td><input type="checkbox"></td>
                <th>이미지</th>
                <th>상품 정보</th>
                <th>판매가</th>
                <th>수량</th>
                <th>배송비</th>
                <th>배송구분</th>
                <th>합계</th>
                <th>선택</th>
            </tr>
            </thead>
            <tbody class="table-group-divider align-middle ">
            <tr>
                <th scope="row"><input type="checkbox"></th>
                <td class="prImg">
                    <img alt="상품 이미지" class="img-fluid" src="">
                </td>
                <td class="prInfo">
                    <p class="prName">상품 이름</p>
                    <p class="prDetail">상품 설명</p>
                </td>
                <td><p><span class="prPrice">0</span>원</p></td>
                <td class="prCount">
                    <input class="form-control d-inline-block" min="1" type="number" value="1">
                    <button class="btn btn-primary btn-sm">변경</button>
                </td>
                <td><span class="shippingCost">0</span>원</td>
                <td><span class="shipping">기본배송</span></td>
                <td><span class="totalPrice">0</span>원</td>
                <td class="select">
                    <button class="btn btn-primary btn-sm">주문하기</button>
                    <button class="btn btn-secondary btn-sm">관심상품등록</button>
                    <button class="btn btn-danger btn-sm">삭제</button>
                </td>
            </tr>
            </tbody>
        </table>
        <table class="table tbBot">
            <th>[<span class="shipping">기본배송</span>]</th>
            <td>상품구매금액 <span class="sumPrice bb">0</span>원 + 배송비 <span class="cost bb">0</span>원 = 합계 <span
                    class="sumTotalPrice bb">0</span>원
            </td>
        </table>

        <div class="my-4">

            <div class="row border p-3">
                <div class="col-auto">
                    <input class="form-check-input custom-checkbox" type="checkbox">
                </div>
                <div class="col">
                    <strong>이메일, 아이디, 비밀번호 입력만으로 주문과 동시에 회원가입</strong>
                    <ul class="mt-2">
                        <li>-이메일, 아이디, 비밀번호만으로 간편하게 회원가입이 가능합니다.</li>
                        <li>-회원가입 후 쿠폰, 이벤트 등 할인혜택을 받으실 수 있습니다.</li>
                    </ul>
                </div>
            </div>

            <div class="border p-4 mt-4">
                <form>
                    <div class="mb-3 row">
                        <label class="col-sm-2 col-form-label" for="password">주문조회의 비밀번호 <span
                                class="text-danger">*</span></label>
                        <div class="col-sm-10">
                            <input class="form-control" id="password" placeholder="주문조회의 비밀번호" type="password">
                            <small class="form-text text-muted">(주문조회시 필요합니다. 4자에서 12자 영문 또는 숫자 (대소문자 구분))</small>
                        </div>
                    </div>
                    <div class="mb-3 row">
                        <label class="col-sm-2 col-form-label" for="passwordConfirm">주문조회 비밀번호 확인 <span
                                class="text-danger">*</span></label>
                        <div class="col-sm-10">
                            <input class="form-control" id="passwordConfirm" placeholder="주문조회 비밀번호 확인" type="password">
                        </div>
                    </div>
                    <div class="mb-3 row">
                        <label class="col-sm-2 col-form-label" for="receiverName">받으시는 분 <span
                                class="text-danger">*</span></label>
                        <div class="col-sm-10">
                            <input class="form-control" id="receiverName" placeholder="받으시는 분" type="text">
                        </div>
                    </div>
                    <div class="mb-3 row">
                        <label class="col-sm-2 col-form-label" for="address">주소 <span
                                class="text-danger">*</span></label>
                        <div class="col-sm-10">
                            <div class="input-group mb-2">
                                <input class="form-control" id="address" placeholder="우편번호" style="max-width: 150px;"
                                       type="text">
                                <button class="btn btn-outline-secondary" type="button">우편번호</button>
                            </div>
                            <input class="form-control mb-2" placeholder="기본주소" type="text">
                            <input class="form-control" placeholder="나머지주소 (선택입력가능)" type="text">
                        </div>
                    </div>
                    <div class="mb-3 row">
                        <label class="col-sm-2 col-form-label" for="phone">휴대전화 <span
                                class="text-danger">*</span></label>
                        <div class="col-sm-10">
                            <div class="input-group">
                                <select class="form-select phoneNumber" style="max-width: 80px;">
                                    <option value="010">010</option>
                                    <option value="011">011</option>
                                    <option value="016">016</option>
                                    <option value="017">017</option>
                                    <option value="018">018</option>
                                    <option value="019">019</option>
                                </select>
                                <span class="input-group-text">ㅡ</span>
                                <input aria-label="Middle number" class="form-control phoneNumber" style="max-width: 100px;"
                                       type="text">
                                <span class="input-group-text">ㅡ</span>
                                <input aria-label="Last number" class="form-control phoneNumber" style="max-width: 100px;"
                                       type="text">
                            </div>
                        </div>
                    </div>
                    <div class="mb-3 row">
                        <label class="col-sm-2 col-form-label" for="email">이메일 <span
                                class="text-danger">*</span></label>
                        <div class="col-sm-10">
                            <div class="input-group">
                                <input class="form-control" id="email" placeholder="이메일" style="max-width: 150px;"
                                       type="email">
                                <span class="input-group-text">@</span>
                                <input class="form-control" placeholder="직접입력" style="max-width: 150px;" type="text">
                                <select class="form-select" style="max-width: 120px;">
                                    <option value="">직접입력</option>
                                    <option value="naver.com">naver.com</option>
                                    <option value="daum.net">daum.net</option>
                                    <option value="gmail.com">gmail.com</option>
                                    <option value="nate.com">nate.com</option>
                                </select>
                            </div>
                            <small class="form-text text-muted">이메일을 통해 주문처리과정을 보내드립니다. 이메일 주소에는 반드시 수신가능한 이메일 주소를 입력해
                                주세요.</small>
                        </div>
                    </div>
                    <div class="mb-3 row">
                        <label class="col-sm-2 col-form-label" for="deliveryMessage">배송메시지</label>
                        <div class="col-sm-10">
                            <input class="form-control" id="deliveryMessage" placeholder="배송메시지" type="text">
                        </div>
                    </div>
                </form>
            </div>

            <div class="summary my-5">
                <table class="table border">
                    <thead>
                    <tr>
                        <th>총 상품금액</th>
                        <th>총 배송비</th>
                        <th>결제예정금액</th>
                    </tr>
                    </thead>
                    <tbody class="table-success">
                    <tr>
                        <th scope="row"><span class="price">0</span>원</th>
                        <td><span class="cost">0</span>원</td>
                        <td><span class="totalPrice">0</span>원</td>
                    </tr>
                    </tbody>
                </table>
            </div>


            <div class="row mb-4">
                <div class="col">
                    <div class="form-check form-check-inline">
                        <input checked class="form-check-input" id="bankTransfer" name="paymentMethod"
                               onclick="showPaymentMethod('bankTransfer')" type="radio" value="bankTransfer">
                        <label class="form-check-label" for="bankTransfer">무통장입금</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" id="creditCard" name="paymentMethod" onclick="showPaymentMethod('creditCard')"
                               type="radio" value="creditCard">
                        <label class="form-check-label" for="creditCard">신용카드</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" id="mobilePayment" name="paymentMethod" onclick="showPaymentMethod('mobilePayment')"
                               type="radio" value="mobilePayment">
                        <label class="form-check-label" for="mobilePayment">휴대폰</label>
                    </div>
                </div>
            </div>

            <div class="payment-content" id="bankTransferContent">
                <div class="row">
                    <div class="col-md-8">
                        <div class="mb-3 row">
                            <label class="col-sm-2 col-form-label" for="depositorName">입금자명</label>
                            <div class="col-sm-10">
                                <input class="form-control" id="depositorName" placeholder="입금자명" type="text">
                            </div>
                        </div>
                        <div class="mb-3 row">
                            <label class="col-sm-2 col-form-label" for="bank">입금은행</label>
                            <div class="col-sm-10">
                                <select class="form-select" id="bank" onchange="updateAccountNumber()">
                                    <option selected>-- 선택하세요 --</option>
                                    <option value="bank1">은행 1</option>
                                    <option value="bank2">은행 2</option>
                                    <option value="bank3">은행 3</option>
                                </select>
                            </div>
                        </div>
                        <div class="mb-3 row">
                            <label class="col-sm-2 col-form-label" for="accountNumber">계좌번호</label>
                            <div class="col-sm-8">
                                <input class="form-control" id="accountNumber" placeholder="은행 계좌 번호" readonly
                                       type="text">
                            </div>
                            <div class="col-sm-2">
                                <button class="btn btn-outline-secondary" onclick="copyAccountNumber()" type="button">
                                    복사하기
                                </button>
                            </div>
                        </div>
                        <div class="mb-3 row align-items-center">
                            <label class="col-sm-2 col-form-label" for="receipt">현금영수증 신청</label>
                            <div class="col-sm-10">
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" id="receiptYes" name="receipt" type="radio"
                                           value="yes">
                                    <label class="form-check-label" for="receiptYes">신청</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input checked class="form-check-input" id="receiptNo" name="receipt"
                                           type="radio" value="no">
                                    <label class="form-check-label" for="receiptNo">신청안함</label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-4 text-center">
                        <div class="border p-4">
                            <p>무통장입금 최종결제 금액</p>
                            <h2 class="fw-bold"><span class="totalPrice">0</span>원</h2>
                            <div class="form-check mb-3">
                                <input class="form-check-input" id="agreeCheck" type="checkbox">
                                <label class="form-check-label" for="agreeCheck">결제정보 확인하였으며, 결제에 동의합니다.</label>
                            </div>
                            <button class="btn btn-dark w-100">결제하기</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="payment-content d-none" id="creditCardContent">
                <div class="row">
                    <div class="col-md-8">
                        <div class="alert alert-warning" role="alert">
                            소액 결제의 경우 PG사 정책에 따라 결제 금액 제한이 있을 수 있습니다.
                        </div>
                        <div class="mb-3 row">
                            <label class="col-sm-2 col-form-label" for="cardType">신용/체크카드</label>
                            <div class="col-sm-8">
                                <select class="form-select" id="cardType">
                                    <option selected>-- 선택해 주세요 --</option>
                                    <option value="card1">카드 1</option>
                                    <option value="card2">카드 2</option>
                                    <option value="card3">카드 3</option>
                                </select>
                            </div>
                            <div class="col-sm-2">
                                <button class="btn btn-outline-secondary" type="button">카드 등록</button>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 text-center">
                        <div class="border p-4">
                            <p>최종결제 금액</p>
                            <h2 class="fw-bold"><span class="totalPrice">0</span>원</h2>
                            <div class="form-check mb-3">
                                <input class="form-check-input" id="agreeCheckCard" type="checkbox">
                                <label class="form-check-label" for="agreeCheckCard">결제정보 확인하였으며, 결제에 동의합니다.</label>
                            </div>
                            <button class="btn btn-dark w-100">결제하기</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</body>
</html>

<script>
    function showPaymentMethod(method) {
        const bankTransferContent = document.getElementById('bankTransferContent');
        const creditCardContent = document.getElementById('creditCardContent');

        if (method === 'bankTransfer') {
            bankTransferContent.classList.remove('d-none');
            creditCardContent.classList.add('d-none');
        } else if (method === 'creditCard') {
            bankTransferContent.classList.add('d-none');
            creditCardContent.classList.remove('d-none');
        } else {
            bankTransferContent.classList.add('d-none');
            creditCardContent.classList.add('d-none');
        }
    }

    function updateAccountNumber() {
        const bank = document.getElementById('bank');
        const accountNumber = document.getElementById('accountNumber');
        const bankValue = bank.value;

        if (bankValue === 'bank1') {
            accountNumber.value = '123-456-7890';
        } else if (bankValue === 'bank2') {
            accountNumber.value = '234-567-8901';
        } else if (bankValue === 'bank3') {
            accountNumber.value = '345-678-9012';
        } else {
            accountNumber.value = '';
        }
    }

    function copyAccountNumber() {
        const accountNumber = document.getElementById('accountNumber');
        accountNumber.select();
        document.execCommand('copy');
        alert('계좌번호가 복사되었습니다: ' + accountNumber.value);
    }
</script>